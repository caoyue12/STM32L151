ARM GAS  /tmp/ccpIOTyj.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"gpio-board.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.GpioMcuSetInterrupt,"ax",%progbits
  16              		.align	1
  17              		.global	GpioMcuSetInterrupt
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	GpioMcuSetInterrupt:
  24              	.LFB73:
  25              		.file 1 "..//Source/stm/board/board_stm32l151cd/gpio-board.c"
   1:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** /*!
   2:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \file      gpio-board.c
   3:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
   4:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \brief     Target board GPIO driver implementation
   5:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
   6:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \copyright Revised BSD License, see section \ref LICENSE.
   7:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
   8:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \code
   9:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *                ______                              _
  10:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *               / _____)             _              | |
  11:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *              ( (____  _____ ____ _| |_ _____  ____| |__
  12:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *               \____ \| ___ |    (_   _) ___ |/ ___)  _ \
  13:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *               _____) ) ____| | | || |_| ____( (___| | | |
  14:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *              (______/|_____)_|_|_| \__)_____)\____)_| |_|
  15:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *              (C)2013-2017 Semtech
  16:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
  17:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \endcode
  18:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
  19:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \author    Miguel Luis ( Semtech )
  20:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  *
  21:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  * \author    Gregory Cristian ( Semtech )
  22:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****  */
  23:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "stm32l1xx.h"
  24:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "utilities.h"
  25:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "board-config.h"
  26:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "rtc-board.h"
  27:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "gpio-board.h"
  28:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
  29:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #include "gpio-ioe.h"
  30:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
  31:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  32:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** static GpioIrqHandler *GpioIrq[16];
  33:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
ARM GAS  /tmp/ccpIOTyj.s 			page 2


  34:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void GpioMcuInit( Gpio_t *obj, PinNames pin, PinModes mode, PinConfigs config, PinTypes type, uint3
  35:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
  36:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( pin < IOE_0 )
  37:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
  38:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitTypeDef GPIO_InitStructure;
  39:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  40:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         obj->pin = pin;
  41:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  42:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( pin == NC )
  43:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  44:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             return;
  45:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  46:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  47:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         obj->pinIndex = ( 0x01 << ( obj->pin & 0x0F ) );
  48:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  49:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( ( obj->pin & 0xF0 ) == 0x00 )
  50:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  51:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             obj->port = GPIOA;
  52:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOA_CLK_ENABLE( );
  53:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  54:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( ( obj->pin & 0xF0 ) == 0x10 )
  55:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  56:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             obj->port = GPIOB;
  57:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOB_CLK_ENABLE( );
  58:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  59:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( ( obj->pin & 0xF0 ) == 0x20 )
  60:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  61:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             obj->port = GPIOC;
  62:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOC_CLK_ENABLE( );
  63:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  64:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( ( obj->pin & 0xF0 ) == 0x30 )
  65:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  66:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             obj->port = GPIOD;
  67:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOD_CLK_ENABLE( );
  68:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  69:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else
  70:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  71:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             obj->port = GPIOH;
  72:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOH_CLK_ENABLE( );
  73:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  74:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  75:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pin =  obj->pinIndex ;
  76:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pull = obj->pull = type;
  77:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Speed = GPIO_SPEED_FREQ_HIGH;
  78:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
  79:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( mode == PIN_INPUT )
  80:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  81:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Mode = GPIO_MODE_INPUT;
  82:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  83:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( mode == PIN_ANALOGIC )
  84:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  85:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Mode = GPIO_MODE_ANALOG;
  86:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  87:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( mode == PIN_ALTERNATE_FCT )
  88:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
  89:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             if( config == PIN_OPEN_DRAIN )
  90:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
ARM GAS  /tmp/ccpIOTyj.s 			page 3


  91:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****                 GPIO_InitStructure.Mode = GPIO_MODE_AF_OD;
  92:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
  93:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             else
  94:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
  95:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****                 GPIO_InitStructure.Mode = GPIO_MODE_AF_PP;
  96:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
  97:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Alternate = value;
  98:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  99:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else // mode output
 100:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 101:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             if( config == PIN_OPEN_DRAIN )
 102:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
 103:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****                 GPIO_InitStructure.Mode = GPIO_MODE_OUTPUT_OD;
 104:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 105:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             else
 106:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
 107:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****                 GPIO_InitStructure.Mode = GPIO_MODE_OUTPUT_PP;
 108:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 109:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 110:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 111:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // Sets initial output value
 112:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( mode == PIN_OUTPUT )
 113:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 114:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GpioMcuWrite( obj, value );
 115:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 116:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 117:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_GPIO_Init( obj->port, &GPIO_InitStructure );
 118:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 119:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 120:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 121:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 122:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 123:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIoeInit( obj, pin, mode, config, type, value );
 124:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 125:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 126:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 127:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 128:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void GpioMcuSetInterrupt( Gpio_t *obj, IrqModes irqMode, IrqPriorities irqPriority, GpioIrqHandler 
 129:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
  26              		.loc 1 129 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 24
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 70B5     		push	{r4, r5, r6, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 16
  34              		.cfi_offset 4, -16
  35              		.cfi_offset 5, -12
  36              		.cfi_offset 6, -8
  37              		.cfi_offset 14, -4
  38 0002 86B0     		sub	sp, sp, #24
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 40
 130:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
  41              		.loc 1 130 0
  42 0004 90F90040 		ldrsb	r4, [r0]
ARM GAS  /tmp/ccpIOTyj.s 			page 4


  43 0008 6F2C     		cmp	r4, #111
  44 000a 43DC     		bgt	.L1
  45              	.LVL1:
  46              	.LBB2:
 131:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 132:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         uint32_t priority = 0;
 133:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 134:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         IRQn_Type IRQnb = EXTI0_IRQn;
 135:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitTypeDef   GPIO_InitStructure;
 136:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 137:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( irqHandler == NULL )
  47              		.loc 1 137 0
  48 000c 002B     		cmp	r3, #0
  49 000e 41D0     		beq	.L1
 138:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 139:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             return;
 140:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 141:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 142:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pin =  obj->pinIndex;
  50              		.loc 1 142 0
  51 0010 4488     		ldrh	r4, [r0, #2]
  52 0012 0194     		str	r4, [sp, #4]
 143:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 144:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( irqMode == IRQ_RISING_EDGE )
  53              		.loc 1 144 0
  54 0014 0129     		cmp	r1, #1
  55 0016 14D0     		beq	.L25
 145:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 146:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Mode = GPIO_MODE_IT_RISING;
 147:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 148:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else if( irqMode == IRQ_FALLING_EDGE )
  56              		.loc 1 148 0
  57 0018 0229     		cmp	r1, #2
  58 001a 15D0     		beq	.L26
 149:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 150:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Mode = GPIO_MODE_IT_FALLING;
 151:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 152:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         else
 153:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 154:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             GPIO_InitStructure.Mode = GPIO_MODE_IT_RISING_FALLING;
  59              		.loc 1 154 0
  60 001c 3349     		ldr	r1, .L28
  61              	.LVL2:
  62 001e 0291     		str	r1, [sp, #8]
  63              	.L5:
  64 0020 1E46     		mov	r6, r3
  65 0022 1546     		mov	r5, r2
  66 0024 0446     		mov	r4, r0
 155:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 156:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 157:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pull = obj->pull;
  67              		.loc 1 157 0
  68 0026 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
  69              	.LVL3:
  70 0028 0393     		str	r3, [sp, #12]
 158:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Speed = GPIO_SPEED_FREQ_HIGH;
  71              		.loc 1 158 0
ARM GAS  /tmp/ccpIOTyj.s 			page 5


  72 002a 0223     		movs	r3, #2
  73 002c 0493     		str	r3, [sp, #16]
 159:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 160:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_GPIO_Init( obj->port, &GPIO_InitStructure );
  74              		.loc 1 160 0
  75 002e 01A9     		add	r1, sp, #4
  76 0030 4068     		ldr	r0, [r0, #4]
  77              	.LVL4:
  78 0032 FFF7FEFF 		bl	HAL_GPIO_Init
  79              	.LVL5:
 161:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 162:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         switch( irqPriority )
  80              		.loc 1 162 0
  81 0036 032D     		cmp	r5, #3
  82 0038 0DD8     		bhi	.L7
  83 003a DFE805F0 		tbb	[pc, r5]
  84              	.L9:
  85 003e 08       		.byte	(.L8-.L9)/2
  86 003f 08       		.byte	(.L8-.L9)/2
  87 0040 0E       		.byte	(.L22-.L9)/2
  88 0041 0A       		.byte	(.L11-.L9)/2
  89              	.LVL6:
  90              		.p2align 1
  91              	.L25:
 146:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  92              		.loc 1 146 0
  93 0042 2B49     		ldr	r1, .L28+4
  94              	.LVL7:
  95 0044 0291     		str	r1, [sp, #8]
  96 0046 EBE7     		b	.L5
  97              	.LVL8:
  98              	.L26:
 150:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
  99              		.loc 1 150 0
 100 0048 2A49     		ldr	r1, .L28+8
 101              	.LVL9:
 102 004a 0291     		str	r1, [sp, #8]
 103 004c E8E7     		b	.L5
 104              	.LVL10:
 105              	.L8:
 163:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 164:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case IRQ_VERY_LOW_PRIORITY:
 165:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case IRQ_LOW_PRIORITY:
 166:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             priority = 3;
 106              		.loc 1 166 0
 107 004e 0321     		movs	r1, #3
 108 0050 04E0     		b	.L10
 109              	.L11:
 110              	.LVL11:
 167:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 168:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case IRQ_MEDIUM_PRIORITY:
 169:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             priority = 2;
 170:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 171:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case IRQ_HIGH_PRIORITY:
 172:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             priority = 1;
 111              		.loc 1 172 0
 112 0052 0121     		movs	r1, #1
ARM GAS  /tmp/ccpIOTyj.s 			page 6


 173:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 113              		.loc 1 173 0
 114 0054 02E0     		b	.L10
 115              	.LVL12:
 116              	.L7:
 174:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case IRQ_VERY_HIGH_PRIORITY:
 175:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         default:
 176:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             priority = 0;
 117              		.loc 1 176 0
 118 0056 0021     		movs	r1, #0
 177:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 119              		.loc 1 177 0
 120 0058 00E0     		b	.L10
 121              	.L22:
 169:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 122              		.loc 1 169 0
 123 005a 0221     		movs	r1, #2
 124              	.LVL13:
 125              	.L10:
 178:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 179:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 180:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         switch( obj->pinIndex )
 126              		.loc 1 180 0
 127 005c 6288     		ldrh	r2, [r4, #2]
 128 005e B2F5807F 		cmp	r2, #256
 129 0062 2DD0     		beq	.L13
 130 0064 1FD8     		bhi	.L14
 131 0066 102A     		cmp	r2, #16
 132 0068 3BD0     		beq	.L15
 133 006a 15D8     		bhi	.L16
 134 006c 042A     		cmp	r2, #4
 135 006e 34D0     		beq	.L17
 136 0070 082A     		cmp	r2, #8
 137 0072 34D0     		beq	.L18
 138 0074 022A     		cmp	r2, #2
 139 0076 36D0     		beq	.L27
 140              	.L12:
 134:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitTypeDef   GPIO_InitStructure;
 141              		.loc 1 134 0
 142 0078 0625     		movs	r5, #6
 143              	.LVL14:
 144              	.L19:
 181:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 182:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_0:
 183:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI0_IRQn;
 184:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 185:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_1:
 186:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI1_IRQn;
 187:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 188:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_2:
 189:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI2_IRQn;
 190:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 191:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_3:
 192:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI3_IRQn;
 193:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 194:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_4:
 195:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI4_IRQn;
ARM GAS  /tmp/ccpIOTyj.s 			page 7


 196:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 197:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_5:
 198:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_6:
 199:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_7:
 200:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_8:
 201:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_9:
 202:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI9_5_IRQn;
 203:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 204:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_10:
 205:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_11:
 206:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_12:
 207:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_13:
 208:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_14:
 209:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_15:
 210:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             IRQnb = EXTI15_10_IRQn;
 211:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 212:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         default:
 213:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 214:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 215:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 216:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIrq[( obj->pin ) & 0x0F] = irqHandler;
 145              		.loc 1 216 0 discriminator 1
 146 007a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 147 007c 03F00F03 		and	r3, r3, #15
 148 0080 1D4A     		ldr	r2, .L28+12
 149 0082 42F82360 		str	r6, [r2, r3, lsl #2]
 217:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 218:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_NVIC_SetPriority( IRQnb , priority, 0 );
 150              		.loc 1 218 0 discriminator 1
 151 0086 0022     		movs	r2, #0
 152 0088 2846     		mov	r0, r5
 153 008a FFF7FEFF 		bl	HAL_NVIC_SetPriority
 154              	.LVL15:
 219:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_NVIC_EnableIRQ( IRQnb );
 155              		.loc 1 219 0 discriminator 1
 156 008e 2846     		mov	r0, r5
 157 0090 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 158              	.LVL16:
 159              	.L1:
 160              	.LBE2:
 220:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 221:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 222:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 223:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 224:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 225:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIoeSetInterrupt( obj, irqMode, irqPriority, irqHandler );
 226:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 227:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 228:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 161              		.loc 1 228 0
 162 0094 06B0     		add	sp, sp, #24
 163              	.LCFI2:
 164              		.cfi_remember_state
 165              		.cfi_def_cfa_offset 16
 166              		@ sp needed
 167 0096 70BD     		pop	{r4, r5, r6, pc}
 168              	.LVL17:
ARM GAS  /tmp/ccpIOTyj.s 			page 8


 169              	.L16:
 170              	.LCFI3:
 171              		.cfi_restore_state
 172              	.LBB3:
 180:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 173              		.loc 1 180 0
 174 0098 402A     		cmp	r2, #64
 175 009a 11D0     		beq	.L13
 176 009c 802A     		cmp	r2, #128
 177 009e 0FD0     		beq	.L13
 178 00a0 202A     		cmp	r2, #32
 179 00a2 E9D1     		bne	.L12
 180 00a4 0CE0     		b	.L13
 181              	.L14:
 182 00a6 B2F5805F 		cmp	r2, #4096
 183 00aa 14D0     		beq	.L20
 184 00ac 0AD8     		bhi	.L21
 185 00ae B2F5806F 		cmp	r2, #1024
 186 00b2 10D0     		beq	.L20
 187 00b4 B2F5006F 		cmp	r2, #2048
 188 00b8 0DD0     		beq	.L20
 189 00ba B2F5007F 		cmp	r2, #512
 190 00be DBD1     		bne	.L12
 191              	.L13:
 192              	.LVL18:
 202:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 193              		.loc 1 202 0
 194 00c0 1725     		movs	r5, #23
 203:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_10:
 195              		.loc 1 203 0
 196 00c2 DAE7     		b	.L19
 197              	.LVL19:
 198              	.L21:
 180:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 199              		.loc 1 180 0
 200 00c4 B2F5804F 		cmp	r2, #16384
 201 00c8 05D0     		beq	.L20
 202 00ca B2F5004F 		cmp	r2, #32768
 203 00ce 02D0     		beq	.L20
 204 00d0 B2F5005F 		cmp	r2, #8192
 205 00d4 D0D1     		bne	.L12
 206              	.L20:
 207              	.LVL20:
 210:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 208              		.loc 1 210 0
 209 00d6 2825     		movs	r5, #40
 211:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         default:
 210              		.loc 1 211 0
 211 00d8 CFE7     		b	.L19
 212              	.LVL21:
 213              	.L17:
 189:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 214              		.loc 1 189 0
 215 00da 0825     		movs	r5, #8
 190:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_3:
 216              		.loc 1 190 0
 217 00dc CDE7     		b	.L19
ARM GAS  /tmp/ccpIOTyj.s 			page 9


 218              	.LVL22:
 219              	.L18:
 192:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 220              		.loc 1 192 0
 221 00de 0925     		movs	r5, #9
 193:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_4:
 222              		.loc 1 193 0
 223 00e0 CBE7     		b	.L19
 224              	.LVL23:
 225              	.L15:
 195:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 226              		.loc 1 195 0
 227 00e2 0A25     		movs	r5, #10
 196:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         case GPIO_PIN_5:
 228              		.loc 1 196 0
 229 00e4 C9E7     		b	.L19
 230              	.LVL24:
 231              	.L27:
 186:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             break;
 232              		.loc 1 186 0
 233 00e6 0725     		movs	r5, #7
 234 00e8 C7E7     		b	.L19
 235              	.L29:
 236 00ea 00BF     		.align	2
 237              	.L28:
 238 00ec 00003110 		.word	271646720
 239 00f0 00001110 		.word	269549568
 240 00f4 00002110 		.word	270598144
 241 00f8 00000000 		.word	.LANCHOR0
 242              	.LBE3:
 243              		.cfi_endproc
 244              	.LFE73:
 246              		.section	.text.GpioMcuRemoveInterrupt,"ax",%progbits
 247              		.align	1
 248              		.global	GpioMcuRemoveInterrupt
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu softvfp
 254              	GpioMcuRemoveInterrupt:
 255              	.LFB74:
 229:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 230:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void GpioMcuRemoveInterrupt( Gpio_t *obj )
 231:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 256              		.loc 1 231 0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 24
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              	.LVL25:
 232:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
 261              		.loc 1 232 0
 262 0000 90F90030 		ldrsb	r3, [r0]
 263 0004 6F2B     		cmp	r3, #111
 264 0006 00DD     		ble	.L36
 265 0008 7047     		bx	lr
 266              	.L36:
 231:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
ARM GAS  /tmp/ccpIOTyj.s 			page 10


 267              		.loc 1 231 0
 268 000a 10B5     		push	{r4, lr}
 269              	.LCFI4:
 270              		.cfi_def_cfa_offset 8
 271              		.cfi_offset 4, -8
 272              		.cfi_offset 14, -4
 273 000c 86B0     		sub	sp, sp, #24
 274              	.LCFI5:
 275              		.cfi_def_cfa_offset 32
 276 000e 0446     		mov	r4, r0
 277              	.LBB4:
 233:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 234:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitTypeDef   GPIO_InitStructure;
 235:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 236:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pin =  obj->pinIndex ;
 278              		.loc 1 236 0
 279 0010 4388     		ldrh	r3, [r0, #2]
 280 0012 0193     		str	r3, [sp, #4]
 237:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Mode = GPIO_MODE_ANALOG;
 281              		.loc 1 237 0
 282 0014 0323     		movs	r3, #3
 283 0016 0293     		str	r3, [sp, #8]
 238:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_GPIO_Init( obj->port, &GPIO_InitStructure );
 284              		.loc 1 238 0
 285 0018 01A9     		add	r1, sp, #4
 286 001a 4068     		ldr	r0, [r0, #4]
 287              	.LVL26:
 288 001c FFF7FEFF 		bl	HAL_GPIO_Init
 289              	.LVL27:
 239:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 240:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIrq[( obj->pin ) & 0x0F] = NULL;
 290              		.loc 1 240 0
 291 0020 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 292 0022 03F00F03 		and	r3, r3, #15
 293 0026 0021     		movs	r1, #0
 294 0028 024A     		ldr	r2, .L37
 295 002a 42F82310 		str	r1, [r2, r3, lsl #2]
 296              	.LBE4:
 241:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 242:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 243:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 244:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 245:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 246:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIoeRemoveInterrupt( obj );
 247:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 248:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 249:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 297              		.loc 1 249 0
 298 002e 06B0     		add	sp, sp, #24
 299              	.LCFI6:
 300              		.cfi_def_cfa_offset 8
 301              		@ sp needed
 302 0030 10BD     		pop	{r4, pc}
 303              	.LVL28:
 304              	.L38:
 305 0032 00BF     		.align	2
 306              	.L37:
ARM GAS  /tmp/ccpIOTyj.s 			page 11


 307 0034 00000000 		.word	.LANCHOR0
 308              		.cfi_endproc
 309              	.LFE74:
 311              		.section	.text.GpioMcuWrite,"ax",%progbits
 312              		.align	1
 313              		.global	GpioMcuWrite
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu softvfp
 319              	GpioMcuWrite:
 320              	.LFB75:
 250:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 251:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void GpioMcuWrite( Gpio_t *obj, uint32_t value )
 252:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 321              		.loc 1 252 0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 0
 324              		@ frame_needed = 0, uses_anonymous_args = 0
 325              	.LVL29:
 326 0000 08B5     		push	{r3, lr}
 327              	.LCFI7:
 328              		.cfi_def_cfa_offset 8
 329              		.cfi_offset 3, -8
 330              		.cfi_offset 14, -4
 253:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
 331              		.loc 1 253 0
 332 0002 90F90030 		ldrsb	r3, [r0]
 333 0006 6F2B     		cmp	r3, #111
 334 0008 07DC     		bgt	.L39
 254:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 255:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( ( obj == NULL ) || ( obj->port == NULL ) )
 256:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 257:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             assert_param( FAIL );
 258:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 259:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // Check if pin is not connected
 260:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( obj->pin == NC )
 335              		.loc 1 260 0
 336 000a B3F1FF3F 		cmp	r3, #-1
 337 000e 04D0     		beq	.L39
 261:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 262:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             return;
 263:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 264:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_GPIO_WritePin( obj->port, obj->pinIndex , ( GPIO_PinState )value );
 338              		.loc 1 264 0
 339 0010 CAB2     		uxtb	r2, r1
 340 0012 4188     		ldrh	r1, [r0, #2]
 341              	.LVL30:
 342 0014 4068     		ldr	r0, [r0, #4]
 343              	.LVL31:
 344 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 345              	.LVL32:
 346              	.L39:
 347 001a 08BD     		pop	{r3, pc}
 348              		.cfi_endproc
 349              	.LFE75:
 351              		.section	.text.GpioMcuInit,"ax",%progbits
ARM GAS  /tmp/ccpIOTyj.s 			page 12


 352              		.align	1
 353              		.global	GpioMcuInit
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 357              		.fpu softvfp
 359              	GpioMcuInit:
 360              	.LFB72:
  35:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( pin < IOE_0 )
 361              		.loc 1 35 0
 362              		.cfi_startproc
 363              		@ args = 8, pretend = 0, frame = 40
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 365              	.LVL33:
 366 0000 70B5     		push	{r4, r5, r6, lr}
 367              	.LCFI8:
 368              		.cfi_def_cfa_offset 16
 369              		.cfi_offset 4, -16
 370              		.cfi_offset 5, -12
 371              		.cfi_offset 6, -8
 372              		.cfi_offset 14, -4
 373 0002 8AB0     		sub	sp, sp, #40
 374              	.LCFI9:
 375              		.cfi_def_cfa_offset 56
 376 0004 9DF83840 		ldrb	r4, [sp, #56]	@ zero_extendqisi2
  36:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 377              		.loc 1 36 0
 378 0008 6F29     		cmp	r1, #111
 379 000a 29DC     		bgt	.L42
 380              	.LBB5:
  40:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 381              		.loc 1 40 0
 382 000c 0170     		strb	r1, [r0]
  42:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 383              		.loc 1 42 0
 384 000e B1F1FF3F 		cmp	r1, #-1
 385 0012 25D0     		beq	.L42
  47:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 386              		.loc 1 47 0
 387 0014 01F00F06 		and	r6, r1, #15
 388 0018 0125     		movs	r5, #1
 389 001a B540     		lsls	r5, r5, r6
 390 001c 4580     		strh	r5, [r0, #2]	@ movhi
  49:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 391              		.loc 1 49 0
 392 001e 11F0F001 		ands	r1, r1, #240
 393              	.LVL34:
 394 0022 1FD1     		bne	.L45
  51:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOA_CLK_ENABLE( );
 395              		.loc 1 51 0
 396 0024 3D49     		ldr	r1, .L67
 397 0026 4160     		str	r1, [r0, #4]
 398              	.LBB6:
  52:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 399              		.loc 1 52 0
 400 0028 01F56051 		add	r1, r1, #14336
 401 002c CD69     		ldr	r5, [r1, #28]
ARM GAS  /tmp/ccpIOTyj.s 			page 13


 402 002e 45F00105 		orr	r5, r5, #1
 403 0032 CD61     		str	r5, [r1, #28]
 404              	.LVL35:
 405 0034 C969     		ldr	r1, [r1, #28]
 406 0036 01F00101 		and	r1, r1, #1
 407 003a 0091     		str	r1, [sp]
 408 003c 0099     		ldr	r1, [sp]
 409              	.L46:
 410              	.LBE6:
  75:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Pull = obj->pull = type;
 411              		.loc 1 75 0
 412 003e 4188     		ldrh	r1, [r0, #2]
 413 0040 0591     		str	r1, [sp, #20]
  76:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GPIO_InitStructure.Speed = GPIO_SPEED_FREQ_HIGH;
 414              		.loc 1 76 0
 415 0042 8472     		strb	r4, [r0, #10]
 416 0044 0794     		str	r4, [sp, #28]
  77:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 417              		.loc 1 77 0
 418 0046 0221     		movs	r1, #2
 419 0048 0891     		str	r1, [sp, #32]
  79:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 420              		.loc 1 79 0
 421 004a 002A     		cmp	r2, #0
 422 004c 48D1     		bne	.L50
  81:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 423              		.loc 1 81 0
 424 004e 0023     		movs	r3, #0
 425              	.LVL36:
 426 0050 0693     		str	r3, [sp, #24]
 427              	.L51:
 428 0052 0446     		mov	r4, r0
 112:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 429              		.loc 1 112 0
 430 0054 012A     		cmp	r2, #1
 431 0056 5CD0     		beq	.L59
 432              	.LVL37:
 433              	.L57:
 117:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 434              		.loc 1 117 0
 435 0058 05A9     		add	r1, sp, #20
 436 005a 6068     		ldr	r0, [r4, #4]
 437 005c FFF7FEFF 		bl	HAL_GPIO_Init
 438              	.LVL38:
 439              	.L42:
 440              	.LBE5:
 126:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 441              		.loc 1 126 0
 442 0060 0AB0     		add	sp, sp, #40
 443              	.LCFI10:
 444              		.cfi_remember_state
 445              		.cfi_def_cfa_offset 16
 446              		@ sp needed
 447 0062 70BD     		pop	{r4, r5, r6, pc}
 448              	.LVL39:
 449              	.L45:
 450              	.LCFI11:
ARM GAS  /tmp/ccpIOTyj.s 			page 14


 451              		.cfi_restore_state
 452              	.LBB11:
  54:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 453              		.loc 1 54 0
 454 0064 1029     		cmp	r1, #16
 455 0066 11D0     		beq	.L60
  59:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 456              		.loc 1 59 0
 457 0068 2029     		cmp	r1, #32
 458 006a 1DD0     		beq	.L61
  64:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 459              		.loc 1 64 0
 460 006c 3029     		cmp	r1, #48
 461 006e 29D0     		beq	.L62
  71:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOH_CLK_ENABLE( );
 462              		.loc 1 71 0
 463 0070 2B49     		ldr	r1, .L67+4
 464 0072 4160     		str	r1, [r0, #4]
 465              	.LBB7:
  72:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 466              		.loc 1 72 0
 467 0074 01F51051 		add	r1, r1, #9216
 468 0078 CD69     		ldr	r5, [r1, #28]
 469 007a 45F02005 		orr	r5, r5, #32
 470 007e CD61     		str	r5, [r1, #28]
 471              	.LVL40:
 472 0080 C969     		ldr	r1, [r1, #28]
 473 0082 01F02001 		and	r1, r1, #32
 474 0086 0491     		str	r1, [sp, #16]
 475 0088 0499     		ldr	r1, [sp, #16]
 476 008a D8E7     		b	.L46
 477              	.LVL41:
 478              	.L60:
 479              	.LBE7:
  56:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOB_CLK_ENABLE( );
 480              		.loc 1 56 0
 481 008c 2549     		ldr	r1, .L67+8
 482 008e 4160     		str	r1, [r0, #4]
 483              	.LBB8:
  57:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 484              		.loc 1 57 0
 485 0090 01F55051 		add	r1, r1, #13312
 486 0094 CD69     		ldr	r5, [r1, #28]
 487 0096 45F00205 		orr	r5, r5, #2
 488 009a CD61     		str	r5, [r1, #28]
 489              	.LVL42:
 490 009c C969     		ldr	r1, [r1, #28]
 491 009e 01F00201 		and	r1, r1, #2
 492 00a2 0191     		str	r1, [sp, #4]
 493 00a4 0199     		ldr	r1, [sp, #4]
 494              	.LBE8:
 495 00a6 CAE7     		b	.L46
 496              	.LVL43:
 497              	.L61:
  61:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOC_CLK_ENABLE( );
 498              		.loc 1 61 0
 499 00a8 1F49     		ldr	r1, .L67+12
ARM GAS  /tmp/ccpIOTyj.s 			page 15


 500 00aa 4160     		str	r1, [r0, #4]
 501              	.LBB9:
  62:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 502              		.loc 1 62 0
 503 00ac 01F54051 		add	r1, r1, #12288
 504 00b0 CD69     		ldr	r5, [r1, #28]
 505 00b2 45F00405 		orr	r5, r5, #4
 506 00b6 CD61     		str	r5, [r1, #28]
 507              	.LVL44:
 508 00b8 C969     		ldr	r1, [r1, #28]
 509 00ba 01F00401 		and	r1, r1, #4
 510 00be 0291     		str	r1, [sp, #8]
 511 00c0 0299     		ldr	r1, [sp, #8]
 512              	.LBE9:
 513 00c2 BCE7     		b	.L46
 514              	.LVL45:
 515              	.L62:
  66:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             __HAL_RCC_GPIOD_CLK_ENABLE( );
 516              		.loc 1 66 0
 517 00c4 1949     		ldr	r1, .L67+16
 518 00c6 4160     		str	r1, [r0, #4]
 519              	.LBB10:
  67:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 520              		.loc 1 67 0
 521 00c8 01F53051 		add	r1, r1, #11264
 522 00cc CD69     		ldr	r5, [r1, #28]
 523 00ce 45F00805 		orr	r5, r5, #8
 524 00d2 CD61     		str	r5, [r1, #28]
 525              	.LVL46:
 526 00d4 C969     		ldr	r1, [r1, #28]
 527 00d6 01F00801 		and	r1, r1, #8
 528 00da 0391     		str	r1, [sp, #12]
 529 00dc 0399     		ldr	r1, [sp, #12]
 530              	.LBE10:
 531 00de AEE7     		b	.L46
 532              	.L50:
  83:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 533              		.loc 1 83 0
 534 00e0 032A     		cmp	r2, #3
 535 00e2 06D0     		beq	.L63
  87:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 536              		.loc 1 87 0
 537 00e4 022A     		cmp	r2, #2
 538 00e6 07D0     		beq	.L64
 101:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
 539              		.loc 1 101 0
 540 00e8 012B     		cmp	r3, #1
 541 00ea 0FD0     		beq	.L65
 107:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 542              		.loc 1 107 0
 543 00ec 0123     		movs	r3, #1
 544              	.LVL47:
 545 00ee 0693     		str	r3, [sp, #24]
 546 00f0 AFE7     		b	.L51
 547              	.LVL48:
 548              	.L63:
  85:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
ARM GAS  /tmp/ccpIOTyj.s 			page 16


 549              		.loc 1 85 0
 550 00f2 0323     		movs	r3, #3
 551              	.LVL49:
 552 00f4 0693     		str	r3, [sp, #24]
 553 00f6 ACE7     		b	.L51
 554              	.LVL50:
 555              	.L64:
  89:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             {
 556              		.loc 1 89 0
 557 00f8 012B     		cmp	r3, #1
 558 00fa 04D0     		beq	.L66
  95:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 559              		.loc 1 95 0
 560 00fc 0223     		movs	r3, #2
 561              	.LVL51:
 562 00fe 0693     		str	r3, [sp, #24]
 563              	.L55:
  97:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 564              		.loc 1 97 0
 565 0100 0F9B     		ldr	r3, [sp, #60]
 566 0102 0993     		str	r3, [sp, #36]
 567 0104 A5E7     		b	.L51
 568              	.LVL52:
 569              	.L66:
  91:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 570              		.loc 1 91 0
 571 0106 1223     		movs	r3, #18
 572              	.LVL53:
 573 0108 0693     		str	r3, [sp, #24]
 574 010a F9E7     		b	.L55
 575              	.LVL54:
 576              	.L65:
 103:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             }
 577              		.loc 1 103 0
 578 010c 1123     		movs	r3, #17
 579              	.LVL55:
 580 010e 0693     		str	r3, [sp, #24]
 581 0110 9FE7     		b	.L51
 582              	.L59:
 114:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 583              		.loc 1 114 0
 584 0112 0F99     		ldr	r1, [sp, #60]
 585 0114 FFF7FEFF 		bl	GpioMcuWrite
 586              	.LVL56:
 587 0118 9EE7     		b	.L57
 588              	.L68:
 589 011a 00BF     		.align	2
 590              	.L67:
 591 011c 00000240 		.word	1073872896
 592 0120 00140240 		.word	1073878016
 593 0124 00040240 		.word	1073873920
 594 0128 00080240 		.word	1073874944
 595 012c 000C0240 		.word	1073875968
 596              	.LBE11:
 597              		.cfi_endproc
 598              	.LFE72:
 600              		.section	.text.GpioMcuToggle,"ax",%progbits
ARM GAS  /tmp/ccpIOTyj.s 			page 17


 601              		.align	1
 602              		.global	GpioMcuToggle
 603              		.syntax unified
 604              		.thumb
 605              		.thumb_func
 606              		.fpu softvfp
 608              	GpioMcuToggle:
 609              	.LFB76:
 265:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 266:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 267:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 268:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 269:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 270:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIoeWrite( obj, value );
 271:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 272:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 273:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 274:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 275:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void GpioMcuToggle( Gpio_t *obj )
 276:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 610              		.loc 1 276 0
 611              		.cfi_startproc
 612              		@ args = 0, pretend = 0, frame = 0
 613              		@ frame_needed = 0, uses_anonymous_args = 0
 614              	.LVL57:
 615 0000 08B5     		push	{r3, lr}
 616              	.LCFI12:
 617              		.cfi_def_cfa_offset 8
 618              		.cfi_offset 3, -8
 619              		.cfi_offset 14, -4
 277:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
 620              		.loc 1 277 0
 621 0002 90F90030 		ldrsb	r3, [r0]
 622 0006 6F2B     		cmp	r3, #111
 623 0008 06DC     		bgt	.L69
 278:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 279:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( ( obj == NULL ) || ( obj->port == NULL ) )
 280:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 281:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             assert_param( FAIL );
 282:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 283:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 284:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // Check if pin is not connected
 285:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( obj->pin == NC )
 624              		.loc 1 285 0
 625 000a B3F1FF3F 		cmp	r3, #-1
 626 000e 03D0     		beq	.L69
 286:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 287:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             return;
 288:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 289:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         HAL_GPIO_TogglePin( obj->port, obj->pinIndex );
 627              		.loc 1 289 0
 628 0010 4188     		ldrh	r1, [r0, #2]
 629 0012 4068     		ldr	r0, [r0, #4]
 630              	.LVL58:
 631 0014 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 632              	.LVL59:
 633              	.L69:
ARM GAS  /tmp/ccpIOTyj.s 			page 18


 634 0018 08BD     		pop	{r3, pc}
 635              		.cfi_endproc
 636              	.LFE76:
 638              		.section	.text.GpioMcuRead,"ax",%progbits
 639              		.align	1
 640              		.global	GpioMcuRead
 641              		.syntax unified
 642              		.thumb
 643              		.thumb_func
 644              		.fpu softvfp
 646              	GpioMcuRead:
 647              	.LFB77:
 290:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 291:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 292:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 293:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 294:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 295:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIoeToggle( obj );
 296:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 297:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 298:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 299:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 300:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** uint32_t GpioMcuRead( Gpio_t *obj )
 301:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 648              		.loc 1 301 0
 649              		.cfi_startproc
 650              		@ args = 0, pretend = 0, frame = 0
 651              		@ frame_needed = 0, uses_anonymous_args = 0
 652              	.LVL60:
 653 0000 08B5     		push	{r3, lr}
 654              	.LCFI13:
 655              		.cfi_def_cfa_offset 8
 656              		.cfi_offset 3, -8
 657              		.cfi_offset 14, -4
 302:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( obj->pin < IOE_0 )
 658              		.loc 1 302 0
 659 0002 90F90030 		ldrsb	r3, [r0]
 660 0006 6F2B     		cmp	r3, #111
 661 0008 07DC     		bgt	.L74
 303:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 304:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( obj == NULL )
 305:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 306:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             assert_param( FAIL );
 307:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 308:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // Check if pin is not connected
 309:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         if( obj->pin == NC )
 662              		.loc 1 309 0
 663 000a B3F1FF3F 		cmp	r3, #-1
 664 000e 06D0     		beq	.L75
 310:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 311:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             return 0;
 312:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 313:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         return HAL_GPIO_ReadPin( obj->port, obj->pinIndex );
 665              		.loc 1 313 0
 666 0010 4188     		ldrh	r1, [r0, #2]
 667 0012 4068     		ldr	r0, [r0, #4]
 668              	.LVL61:
ARM GAS  /tmp/ccpIOTyj.s 			page 19


 669 0014 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 670              	.LVL62:
 671 0018 08BD     		pop	{r3, pc}
 672              	.LVL63:
 673              	.L74:
 314:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 315:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     else
 316:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 317:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if defined( BOARD_IOE_EXT )
 318:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         // IOExt Pin
 319:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         return GpioIoeRead( obj );
 320:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #else
 321:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         return 0;
 674              		.loc 1 321 0
 675 001a 0020     		movs	r0, #0
 676              	.LVL64:
 677 001c 08BD     		pop	{r3, pc}
 678              	.LVL65:
 679              	.L75:
 311:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 680              		.loc 1 311 0
 681 001e 0020     		movs	r0, #0
 682              	.LVL66:
 322:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 323:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 324:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 683              		.loc 1 324 0
 684 0020 08BD     		pop	{r3, pc}
 685              		.cfi_endproc
 686              	.LFE77:
 688              		.section	.text.EXTI0_IRQHandler,"ax",%progbits
 689              		.align	1
 690              		.global	EXTI0_IRQHandler
 691              		.syntax unified
 692              		.thumb
 693              		.thumb_func
 694              		.fpu softvfp
 696              	EXTI0_IRQHandler:
 697              	.LFB78:
 325:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 326:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI0_IRQHandler( void )
 327:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 698              		.loc 1 327 0
 699              		.cfi_startproc
 700              		@ args = 0, pretend = 0, frame = 0
 701              		@ frame_needed = 0, uses_anonymous_args = 0
 702 0000 08B5     		push	{r3, lr}
 703              	.LCFI14:
 704              		.cfi_def_cfa_offset 8
 705              		.cfi_offset 3, -8
 706              		.cfi_offset 14, -4
 328:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 329:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 707              		.loc 1 329 0
 708 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 709              	.LVL67:
 330:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
ARM GAS  /tmp/ccpIOTyj.s 			page 20


 331:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_0 );
 710              		.loc 1 331 0
 711 0006 0120     		movs	r0, #1
 712 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 713              	.LVL68:
 714 000c 08BD     		pop	{r3, pc}
 715              		.cfi_endproc
 716              	.LFE78:
 718              		.section	.text.EXTI1_IRQHandler,"ax",%progbits
 719              		.align	1
 720              		.global	EXTI1_IRQHandler
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 724              		.fpu softvfp
 726              	EXTI1_IRQHandler:
 727              	.LFB79:
 332:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 333:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 334:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI1_IRQHandler( void )
 335:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 728              		.loc 1 335 0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732 0000 08B5     		push	{r3, lr}
 733              	.LCFI15:
 734              		.cfi_def_cfa_offset 8
 735              		.cfi_offset 3, -8
 736              		.cfi_offset 14, -4
 336:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 337:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 737              		.loc 1 337 0
 738 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 739              	.LVL69:
 338:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 339:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_1 );
 740              		.loc 1 339 0
 741 0006 0220     		movs	r0, #2
 742 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 743              	.LVL70:
 744 000c 08BD     		pop	{r3, pc}
 745              		.cfi_endproc
 746              	.LFE79:
 748              		.section	.text.EXTI2_IRQHandler,"ax",%progbits
 749              		.align	1
 750              		.global	EXTI2_IRQHandler
 751              		.syntax unified
 752              		.thumb
 753              		.thumb_func
 754              		.fpu softvfp
 756              	EXTI2_IRQHandler:
 757              	.LFB80:
 340:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 341:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 342:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI2_IRQHandler( void )
 343:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
ARM GAS  /tmp/ccpIOTyj.s 			page 21


 758              		.loc 1 343 0
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 0
 761              		@ frame_needed = 0, uses_anonymous_args = 0
 762 0000 08B5     		push	{r3, lr}
 763              	.LCFI16:
 764              		.cfi_def_cfa_offset 8
 765              		.cfi_offset 3, -8
 766              		.cfi_offset 14, -4
 344:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 345:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 767              		.loc 1 345 0
 768 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 769              	.LVL71:
 346:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 347:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_2 );
 770              		.loc 1 347 0
 771 0006 0420     		movs	r0, #4
 772 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 773              	.LVL72:
 774 000c 08BD     		pop	{r3, pc}
 775              		.cfi_endproc
 776              	.LFE80:
 778              		.section	.text.EXTI3_IRQHandler,"ax",%progbits
 779              		.align	1
 780              		.global	EXTI3_IRQHandler
 781              		.syntax unified
 782              		.thumb
 783              		.thumb_func
 784              		.fpu softvfp
 786              	EXTI3_IRQHandler:
 787              	.LFB81:
 348:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 349:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 350:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI3_IRQHandler( void )
 351:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 788              		.loc 1 351 0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792 0000 08B5     		push	{r3, lr}
 793              	.LCFI17:
 794              		.cfi_def_cfa_offset 8
 795              		.cfi_offset 3, -8
 796              		.cfi_offset 14, -4
 352:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 353:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 797              		.loc 1 353 0
 798 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 799              	.LVL73:
 354:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 355:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_3 );
 800              		.loc 1 355 0
 801 0006 0820     		movs	r0, #8
 802 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 803              	.LVL74:
 804 000c 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccpIOTyj.s 			page 22


 805              		.cfi_endproc
 806              	.LFE81:
 808              		.section	.text.EXTI4_IRQHandler,"ax",%progbits
 809              		.align	1
 810              		.global	EXTI4_IRQHandler
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 814              		.fpu softvfp
 816              	EXTI4_IRQHandler:
 817              	.LFB82:
 356:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 357:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 358:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI4_IRQHandler( void )
 359:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 818              		.loc 1 359 0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822 0000 08B5     		push	{r3, lr}
 823              	.LCFI18:
 824              		.cfi_def_cfa_offset 8
 825              		.cfi_offset 3, -8
 826              		.cfi_offset 14, -4
 360:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 361:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 827              		.loc 1 361 0
 828 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 829              	.LVL75:
 362:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 363:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_4 );
 830              		.loc 1 363 0
 831 0006 1020     		movs	r0, #16
 832 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 833              	.LVL76:
 834 000c 08BD     		pop	{r3, pc}
 835              		.cfi_endproc
 836              	.LFE82:
 838              		.section	.text.EXTI9_5_IRQHandler,"ax",%progbits
 839              		.align	1
 840              		.global	EXTI9_5_IRQHandler
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 844              		.fpu softvfp
 846              	EXTI9_5_IRQHandler:
 847              	.LFB83:
 364:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 365:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 366:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI9_5_IRQHandler( void )
 367:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 848              		.loc 1 367 0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852 0000 08B5     		push	{r3, lr}
 853              	.LCFI19:
ARM GAS  /tmp/ccpIOTyj.s 			page 23


 854              		.cfi_def_cfa_offset 8
 855              		.cfi_offset 3, -8
 856              		.cfi_offset 14, -4
 368:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 369:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 857              		.loc 1 369 0
 858 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 859              	.LVL77:
 370:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 371:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_5 );
 860              		.loc 1 371 0
 861 0006 2020     		movs	r0, #32
 862 0008 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 863              	.LVL78:
 372:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_6 );
 864              		.loc 1 372 0
 865 000c 4020     		movs	r0, #64
 866 000e FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 867              	.LVL79:
 373:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_7 );
 868              		.loc 1 373 0
 869 0012 8020     		movs	r0, #128
 870 0014 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 871              	.LVL80:
 374:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_8 );
 872              		.loc 1 374 0
 873 0018 4FF48070 		mov	r0, #256
 874 001c FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 875              	.LVL81:
 375:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_9 );
 876              		.loc 1 375 0
 877 0020 4FF40070 		mov	r0, #512
 878 0024 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 879              	.LVL82:
 880 0028 08BD     		pop	{r3, pc}
 881              		.cfi_endproc
 882              	.LFE83:
 884              		.section	.text.EXTI15_10_IRQHandler,"ax",%progbits
 885              		.align	1
 886              		.global	EXTI15_10_IRQHandler
 887              		.syntax unified
 888              		.thumb
 889              		.thumb_func
 890              		.fpu softvfp
 892              	EXTI15_10_IRQHandler:
 893              	.LFB84:
 376:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 377:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 378:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void EXTI15_10_IRQHandler( void )
 379:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 894              		.loc 1 379 0
 895              		.cfi_startproc
 896              		@ args = 0, pretend = 0, frame = 0
 897              		@ frame_needed = 0, uses_anonymous_args = 0
 898 0000 08B5     		push	{r3, lr}
 899              	.LCFI20:
 900              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccpIOTyj.s 			page 24


 901              		.cfi_offset 3, -8
 902              		.cfi_offset 14, -4
 380:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #if !defined( USE_NO_TIMER )
 381:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     RtcRecoverMcuStatus( );
 903              		.loc 1 381 0
 904 0002 FFF7FEFF 		bl	RtcRecoverMcuStatus
 905              	.LVL83:
 382:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** #endif
 383:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_10 );
 906              		.loc 1 383 0
 907 0006 4FF48060 		mov	r0, #1024
 908 000a FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 909              	.LVL84:
 384:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_11 );
 910              		.loc 1 384 0
 911 000e 4FF40060 		mov	r0, #2048
 912 0012 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 913              	.LVL85:
 385:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_12 );
 914              		.loc 1 385 0
 915 0016 4FF48050 		mov	r0, #4096
 916 001a FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 917              	.LVL86:
 386:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_13 );
 918              		.loc 1 386 0
 919 001e 4FF40050 		mov	r0, #8192
 920 0022 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 921              	.LVL87:
 387:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_14 );
 922              		.loc 1 387 0
 923 0026 4FF48040 		mov	r0, #16384
 924 002a FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 925              	.LVL88:
 388:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     HAL_GPIO_EXTI_IRQHandler( GPIO_PIN_15 );
 926              		.loc 1 388 0
 927 002e 4FF40040 		mov	r0, #32768
 928 0032 FFF7FEFF 		bl	HAL_GPIO_EXTI_IRQHandler
 929              	.LVL89:
 930 0036 08BD     		pop	{r3, pc}
 931              		.cfi_endproc
 932              	.LFE84:
 934              		.section	.text.HAL_GPIO_EXTI_Callback,"ax",%progbits
 935              		.align	1
 936              		.global	HAL_GPIO_EXTI_Callback
 937              		.syntax unified
 938              		.thumb
 939              		.thumb_func
 940              		.fpu softvfp
 942              	HAL_GPIO_EXTI_Callback:
 943              	.LFB85:
 389:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** }
 390:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 391:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** void HAL_GPIO_EXTI_Callback( uint16_t gpioPin )
 392:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** {
 944              		.loc 1 392 0
 945              		.cfi_startproc
 946              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccpIOTyj.s 			page 25


 947              		@ frame_needed = 0, uses_anonymous_args = 0
 948              	.LVL90:
 949 0000 08B5     		push	{r3, lr}
 950              	.LCFI21:
 951              		.cfi_def_cfa_offset 8
 952              		.cfi_offset 3, -8
 953              		.cfi_offset 14, -4
 954              	.LVL91:
 393:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     uint8_t callbackIndex = 0;
 394:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 395:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( gpioPin > 0 )
 955              		.loc 1 395 0
 956 0002 60B9     		cbnz	r0, .L96
 393:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     uint8_t callbackIndex = 0;
 957              		.loc 1 393 0
 958 0004 0023     		movs	r3, #0
 959              	.LVL92:
 960              	.L93:
 396:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 397:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         while( gpioPin != 0x01 )
 398:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 399:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             gpioPin = gpioPin >> 1;
 400:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             callbackIndex++;
 401:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 402:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     }
 403:..//Source/stm/board/board_stm32l151cd/gpio-board.c **** 
 404:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     if( GpioIrq[callbackIndex] != NULL )
 961              		.loc 1 404 0
 962 0006 074A     		ldr	r2, .L98
 963 0008 52F82330 		ldr	r3, [r2, r3, lsl #2]
 964              	.LVL93:
 965 000c 03B1     		cbz	r3, .L91
 405:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****     {
 406:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         GpioIrq[callbackIndex]( );
 966              		.loc 1 406 0
 967 000e 9847     		blx	r3
 968              	.LVL94:
 969              	.L91:
 970 0010 08BD     		pop	{r3, pc}
 971              	.LVL95:
 972              	.L94:
 399:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****             callbackIndex++;
 973              		.loc 1 399 0
 974 0012 5208     		lsrs	r2, r2, #1
 975              	.LVL96:
 400:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         }
 976              		.loc 1 400 0
 977 0014 0133     		adds	r3, r3, #1
 978              	.LVL97:
 979 0016 DBB2     		uxtb	r3, r3
 980              	.LVL98:
 981              	.L92:
 397:..//Source/stm/board/board_stm32l151cd/gpio-board.c ****         {
 982              		.loc 1 397 0
 983 0018 012A     		cmp	r2, #1
 984 001a FAD1     		bne	.L94
 985 001c F3E7     		b	.L93
ARM GAS  /tmp/ccpIOTyj.s 			page 26


 986              	.LVL99:
 987              	.L96:
 988 001e 0246     		mov	r2, r0
 989 0020 0023     		movs	r3, #0
 990 0022 F9E7     		b	.L92
 991              	.L99:
 992              		.align	2
 993              	.L98:
 994 0024 00000000 		.word	.LANCHOR0
 995              		.cfi_endproc
 996              	.LFE85:
 998              		.section	.bss.GpioIrq,"aw",%nobits
 999              		.align	2
 1000              		.set	.LANCHOR0,. + 0
 1003              	GpioIrq:
 1004 0000 00000000 		.space	64
 1004      00000000 
 1004      00000000 
 1004      00000000 
 1004      00000000 
 1005              		.text
 1006              	.Letext0:
 1007              		.file 2 "..//Source/stm/lib/CMSIS/Device/ST/STM32L1xx/Include/stm32l151xba.h"
 1008              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 1009              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 1010              		.file 5 "..//Source/stm/lib/CMSIS/Include/core_cm3.h"
 1011              		.file 6 "..//Source/stm/lib/CMSIS/Device/ST/STM32L1xx/Include/system_stm32l1xx.h"
 1012              		.file 7 "..//Source/stm/lib/STM32L1xx_HAL_Driver/Inc/stm32l1xx_hal_gpio.h"
 1013              		.file 8 "..//Source/stm/lib/STM32L1xx_HAL_Driver/Inc/stm32l1xx_hal.h"
 1014              		.file 9 "..//Source/stm/hal/gpio.h"
 1015              		.file 10 "..//Source/stm/board/rtc-board.h"
 1016              		.file 11 "..//Source/stm/lib/STM32L1xx_HAL_Driver/Inc/stm32l1xx_hal_cortex.h"
ARM GAS  /tmp/ccpIOTyj.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 gpio-board.c
     /tmp/ccpIOTyj.s:16     .text.GpioMcuSetInterrupt:0000000000000000 $t
     /tmp/ccpIOTyj.s:23     .text.GpioMcuSetInterrupt:0000000000000000 GpioMcuSetInterrupt
     /tmp/ccpIOTyj.s:85     .text.GpioMcuSetInterrupt:000000000000003e $d
     /tmp/ccpIOTyj.s:90     .text.GpioMcuSetInterrupt:0000000000000042 $t
     /tmp/ccpIOTyj.s:238    .text.GpioMcuSetInterrupt:00000000000000ec $d
     /tmp/ccpIOTyj.s:247    .text.GpioMcuRemoveInterrupt:0000000000000000 $t
     /tmp/ccpIOTyj.s:254    .text.GpioMcuRemoveInterrupt:0000000000000000 GpioMcuRemoveInterrupt
     /tmp/ccpIOTyj.s:307    .text.GpioMcuRemoveInterrupt:0000000000000034 $d
     /tmp/ccpIOTyj.s:312    .text.GpioMcuWrite:0000000000000000 $t
     /tmp/ccpIOTyj.s:319    .text.GpioMcuWrite:0000000000000000 GpioMcuWrite
     /tmp/ccpIOTyj.s:352    .text.GpioMcuInit:0000000000000000 $t
     /tmp/ccpIOTyj.s:359    .text.GpioMcuInit:0000000000000000 GpioMcuInit
     /tmp/ccpIOTyj.s:591    .text.GpioMcuInit:000000000000011c $d
     /tmp/ccpIOTyj.s:601    .text.GpioMcuToggle:0000000000000000 $t
     /tmp/ccpIOTyj.s:608    .text.GpioMcuToggle:0000000000000000 GpioMcuToggle
     /tmp/ccpIOTyj.s:639    .text.GpioMcuRead:0000000000000000 $t
     /tmp/ccpIOTyj.s:646    .text.GpioMcuRead:0000000000000000 GpioMcuRead
     /tmp/ccpIOTyj.s:689    .text.EXTI0_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:696    .text.EXTI0_IRQHandler:0000000000000000 EXTI0_IRQHandler
     /tmp/ccpIOTyj.s:719    .text.EXTI1_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:726    .text.EXTI1_IRQHandler:0000000000000000 EXTI1_IRQHandler
     /tmp/ccpIOTyj.s:749    .text.EXTI2_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:756    .text.EXTI2_IRQHandler:0000000000000000 EXTI2_IRQHandler
     /tmp/ccpIOTyj.s:779    .text.EXTI3_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:786    .text.EXTI3_IRQHandler:0000000000000000 EXTI3_IRQHandler
     /tmp/ccpIOTyj.s:809    .text.EXTI4_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:816    .text.EXTI4_IRQHandler:0000000000000000 EXTI4_IRQHandler
     /tmp/ccpIOTyj.s:839    .text.EXTI9_5_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:846    .text.EXTI9_5_IRQHandler:0000000000000000 EXTI9_5_IRQHandler
     /tmp/ccpIOTyj.s:885    .text.EXTI15_10_IRQHandler:0000000000000000 $t
     /tmp/ccpIOTyj.s:892    .text.EXTI15_10_IRQHandler:0000000000000000 EXTI15_10_IRQHandler
     /tmp/ccpIOTyj.s:935    .text.HAL_GPIO_EXTI_Callback:0000000000000000 $t
     /tmp/ccpIOTyj.s:942    .text.HAL_GPIO_EXTI_Callback:0000000000000000 HAL_GPIO_EXTI_Callback
     /tmp/ccpIOTyj.s:994    .text.HAL_GPIO_EXTI_Callback:0000000000000024 $d
     /tmp/ccpIOTyj.s:999    .bss.GpioIrq:0000000000000000 $d
     /tmp/ccpIOTyj.s:1003   .bss.GpioIrq:0000000000000000 GpioIrq
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_WritePin
HAL_GPIO_TogglePin
HAL_GPIO_ReadPin
RtcRecoverMcuStatus
HAL_GPIO_EXTI_IRQHandler
